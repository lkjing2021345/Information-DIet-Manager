# Information Diet Manager - 20天开发计划

## 项目目标
开发浏览记录分析系统，实现分类、相似度分析、情感分析，判断信息摄取质量（信息茧房/信息毒品/良好摄取）

---

## 开发进度表

| 阶段 | 天数 | 任务 | 优先级 | 状态 | 负责模块 |
|------|------|------|--------|------|----------|
| **Week 1: 数据采集与基础分析** | Day 1-7 | | | | |
| 1.1 | Day 1-2 | 浏览记录采集功能 | P0 | ⬜ 待开始 | `utils/fetch_data.py` |
| | | - 读取 Chrome/Edge SQLite 历史记录 | | | |
| | | - 数据清洗和结构化 | | | |
| | | - 提取 URL、标题、时间、访问次数 | | | |
| 1.2 | Day 3-4 | 文本分类实现 | P0 | ⬜ 待开始 | `algorithms/classifier.py` |
| | | - Jieba 分词 + TF-IDF 特征提取 | | | |
| | | - 规则+关键词分类器（新闻/娱乐/学习/社交/购物） | | | |
| | | - 或训练朴素贝叶斯分类器 | | | |
| 1.3 | Day 5-7 | 情感分析集成 | P0 | ⬜ 待开始 | `algorithms/sentiment.py` |
| | | - 集成 SnowNLP 情感分析 | | | |
| | | - 计算每日情感分数 | | | |
| | | - 识别负面信息占比 | | | |
| **Week 2: 核心算法实现** | Day 8-14 | | | | |
| 2.1 | Day 8-10 | 相似度与信息茧房检测 | P0 | ⬜ 待开始 | `algorithms/similarity.py` |
| | | - TF-IDF/Word2Vec 文档向量化 | | | |
| | | - 余弦相似度计算 | | | |
| | | - K-means 聚类分析 | | | |
| | | - 信息多样性指标（熵、Simpson 指数） | | | |
| 2.2 | Day 11-12 | 信息质量评估系统 | P0 | ⬜ 待开始 | `algorithms/evaluator.py` |
| | | - 信息茧房检测（高相似度+低多样性） | | | |
| | | - 信息毒品识别（高娱乐+负面情绪+高频） | | | |
| | | - 良好摄取判定（多样性+学习类+情绪平衡） | | | |
| | | - 综合评分算法 | | | |
| 2.3 | Day 13-14 | 数据可视化 | P1 | ⬜ 待开始 | `utils/visualizer.py` |
| | | - 每日分类占比饼图 | | | |
| | | - 情感趋势折线图 | | | |
| | | - 词云展示高频主题 | | | |
| | | - 信息茧房热力图 | | | |
| **Week 3: 整合与优化** | Day 15-20 | | | | |
| 3.1 | Day 15-16 | 报告生成系统 | P1 | ⬜ 待开始 | `utils/reporter.py` |
| | | - 每日/每周分析报告 | | | |
| | | - JSON/HTML 格式输出 | | | |
| | | - 改善建议生成 | | | |
| 3.2 | Day 17-18 | 测试与调优 | P0 | ⬜ 待开始 | `tests/` |
| | | - 真实数据测试 | | | |
| | | - 调整分类阈值和评分权重 | | | |
| | | - 性能优化（大量历史记录处理） | | | |
| 3.3 | Day 19-20 | 文档与交付 | P1 | ⬜ 待开始 | 文档 |
| | | - API 文档编写 | | | |
| | | - 使用说明 | | | |
| | | - 代码注释完善 | | | |

---

## 技术栈清单

### 已有依赖（requirements.txt）
- ✅ `pandas` - 数据处理
- ✅ `jieba` - 中文分词
- ✅ `gensim` - Word2Vec 词向量
- ✅ `numpy` - 数值计算
- ✅ `seaborn` - 统计可视化
- ✅ `requests` - HTTP 请求
- ✅ `newspaper3k` - 新闻提取
- ✅ `sumy` - 文本摘要

### 需要添加的依赖
- ⬜ `scikit-learn` - 机器学习（分类、聚类、TF-IDF）
- ⬜ `snownlp` - 中文情感分析
- ⬜ `wordcloud` - 词云生成
- ⬜ `matplotlib` - 基础绘图

---

## 项目结构

```
src/lsj/
├── src/
│   ├── algorithms/              # 核心算法模块
│   │   ├── __init__.py
│   │   ├── classifier.py        # 文本分类器
│   │   ├── similarity.py        # 相似度计算
│   │   ├── sentiment.py         # 情感分析
│   │   └── evaluator.py         # 信息质量评估
│   ├── data/                    # 数据处理模块
│   │   ├── __init__.py
│   │   └── preprocessor.py      # 数据预处理
│   ├── utils/                   # 工具模块
│   │   ├── __init__.py
│   │   ├── fetch_data.py        # 浏览记录采集
│   │   ├── visualizer.py        # 可视化工具
│   │   └── reporter.py          # 报告生成
│   ├── models/                  # 模型存储
│   └── main.py                  # 主入口
├── data/                        # 数据存储
│   ├── raw/                     # 原始数据
│   ├── processed/               # 处理后数据
│   └── results/                 # 分析结果
├── models/                      # 训练好的模型
├── tests/                       # 测试代码
├── requirements.txt             # 依赖列表
└── 开发计划.md                  # 本文件
```

---

## 核心功能模块说明

### 1. 浏览记录采集 (`utils/fetch_data.py`)
- 读取浏览器 SQLite 数据库
- 支持 Chrome、Edge、Firefox
- 数据字段：URL、标题、访问时间、访问次数、停留时长

### 2. 文本分类 (`algorithms/classifier.py`)
- 分类类别：新闻、娱乐、学习、社交、购物、工具、其他
- 方法：规则匹配 + 关键词 + 朴素贝叶斯
- 准确率目标：≥75%

### 3. 情感分析 (`algorithms/sentiment.py`)
- 使用 SnowNLP 计算情感极性 [-1, 1]
- 统计每日正面/负面信息占比
- 识别情绪波动异常

### 4. 相似度分析 (`algorithms/similarity.py`)
- TF-IDF 向量化
- 余弦相似度矩阵
- K-means 聚类（识别重复主题）
- 多样性指标：Shannon 熵、Simpson 指数

### 5. 信息质量评估 (`algorithms/evaluator.py`)
- **信息茧房**：相似度 > 0.7 且 多样性 < 0.3
- **信息毒品**：娱乐类 > 60% 且 负面情绪 > 40% 且 高频访问
- **良好摄取**：多样性 > 0.6 且 学习类 > 30% 且 情绪平衡

### 6. 可视化 (`utils/visualizer.py`)
- 分类占比饼图
- 情感趋势图
- 词云
- 相似度热力图

### 7. 报告生成 (`utils/reporter.py`)
- 每日摘要
- 每周对比
- 改善建议
- 导出 JSON/HTML

---

## 里程碑检查点

| 日期 | 里程碑 | 交付物 |
|------|--------|--------|
| Day 7 | 基础功能完成 | 能读取浏览记录并完成分类和情感分析 |
| Day 14 | 核心算法完成 | 能检测信息茧房并生成评估报告 |
| Day 20 | 项目交付 | 完整可运行的分析系统 + 文档 |

---

## 风险与应对

| 风险 | 影响 | 应对措施 |
|------|------|----------|
| 浏览器数据库格式变化 | 高 | 支持多个浏览器版本，做好异常处理 |
| 分类准确率不足 | 中 | 先用规则快速实现，后期优化模型 |
| 性能问题（大量历史记录） | 中 | 分批处理，增量更新，缓存结果 |
| 时间不足 | 高 | 优先 P0 任务，P1 任务可延后 |

---

## 每日进度记录

### Week 1
- [ ] Day 1: _______________
- [ ] Day 2: _______________
- [ ] Day 3: _______________
- [ ] Day 4: _______________
- [ ] Day 5: _______________
- [ ] Day 6: _______________
- [ ] Day 7: _______________

### Week 2
- [ ] Day 8: _______________
- [ ] Day 9: _______________
- [ ] Day 10: _______________
- [ ] Day 11: _______________
- [ ] Day 12: _______________
- [ ] Day 13: _______________
- [ ] Day 14: _______________

### Week 3
- [ ] Day 15: _______________
- [ ] Day 16: _______________
- [ ] Day 17: _______________
- [ ] Day 18: _______________
- [ ] Day 19: _______________
- [ ] Day 20: _______________

---

## 备注
- 优先级：P0（必须完成）> P1（重要）> P2（可选）
- 状态：⬜ 待开始 | 🔄 进行中 | ✅ 已完成 | ❌ 已取消
- 每日更新进度，遇到阻塞及时调整计划